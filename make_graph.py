import pandas as pd
import matplotlib.pyplot as plt


dataset = "cora"
# dataset = "citeseer"
# dataset = "amaphoto"
# dataset = "amacomp"

# structurally missing
# if dataset == "cora":
#   y1 = [62.673,66.991,69.6305,72.108,74.789,75.835,75.404,75.685,75.6725,76.237,76.184375]
#   y2 = [76.8105,78.01,77.9685,78.825,79.208,79.197,79.3185,79.2695,78.617,78.988,78.7735]
#   y3 = [81.474,81.325,81.39,81.502,81.53,81.741,81.498,81.369,81.198,81.373,81.217] #後で修正
# elif dataset == "citeseer":
#   y1 = [49.2565,52.792,53.2555,54.818,57.275,58.3005,58.1275,57.2815,58.6165,57.445,58.0235]
#   y2 = [63.062,63.414,63.2295,64.266,64.2535,64.656,64.775,63.7625,64.7375,64.496,64.7045]
#   y3 = [68.306,68.156,68.475,68.497,68.79,68.144,68.231,68.548,68.479,67.717,68.051] #後で修正
# elif dataset == "amaphoto":
#   y1 = [88.238653,90.05922401,90.31866764,90.38074671,90.16749634,90.1352123,90.22342606,90.18360176,89.79297218,89.57591508,89.72313324]
#   y2 = [91.61661786,91.63396779,91.42693997,91.47057101,91.46376281,91.12262079,91.49860908,91.49670571,91.60900439,91.46844802,91.50885798]
#   y3 = [92.28894583,91.79136164,91.89941435,91.8420937,91.84011713,91.83989751,91.85468521,91.81178624,91.83338214,91.86874085,91.94745404]
# elif dataset == "amacomp":
#   y1 = [81.45946156,82.48097572,82.22268908,82.46377996,80.94117647,80.05831777,79.95109711,79.23650016,79.62834578,79.81150794,79.97370059]
#   y2 = [84.66913926,84.81745167,84.47989072,84.24343812,83.48423937,84.06845454,83.60328699,84.34260124,84.18806411,83.91776464,84.33810561]
#   y3 = [85.58726268,84.8496732,85.22346716,84.45553221,84.93981481,84.88017429,84.71471366,84.93113912,84.15343915,84.89032835,84.98548864]

#uniformly randomly missing
# if dataset == "cora":
#   y1 = [70.709,72.336,74.186,75.348,76.68,76.763,77.355,77.4,77.548,77.812,77.6355]
#   y2 = [78.542,79.093,79.116,79.603,79.814,79.571,79.6,79.395,79.299,79.92,79.538]
#   y3 = [81.437,81.506,81.075,81.251,81.103,81.265,81.227,81.683,80.966,81.426,81.67]
# elif dataset == "citeseer":
#   y1 = [54.8165,56.3105,56.4705,57.743,58.834,59.4665,60.376,60.4445,60.0785,60.0085,60.4905] # 0.8
#   y2 = [65.338,64.927,65.766,65.873,65.072,66.104,65.674,65.391,65.571,65.121,65.489] # 0.5
#   y3 = [69.068,68.762,68.804,68.9,69.042,68.248,68.376,68.546,68.471,69.191,68.172] #0.2
# elif dataset == "amaphoto":
#   y1 = [90.6138363,91.0695462,91.110615,91.252562,90.9726207,90.8972182,90.8683017,90.8772328,90.880527,90.8212299,90.2196926]
#   y2 = [92.27101025,92.15636896,92.12371889,92.03821376,91.99736457,91.85988287,91.89048316,91.95959004,91.99853587,92.07672035,92.01288433]
#   y3 = [92.63308931,92.50219619,92.46486091,92.41800878,92.34363104,92.42284041,92.49824305,92.45168375,92.4272328,92.53513909,92.44641288]
# elif dataset == "amacomp":
#   y1 = [82.7016028,83.982921,84.1058979,84.1238717,83.8564037,83.6364768,83.4801586,83.3777622,83.6100219,83.6441409,83.5663711]
#   y2 = [85.11686897,85.02093059,84.94249922,85.01089325,84.86702459,84.86912543,85.01867414,84.69553377,84.75505758,84.96716464,85.08527856]
#   y3 = [85.62418301,84.92639278,85.41791161,84.92678182,85.41619981,85.43043884,85.64433551,85.51330532,85.45985061,85.28882664,85.41472144]

# biased randomly missing
if dataset == "cora":
  y1 = [68.898,70.536,72.114,75.084,76.299,76.434,76.813,77.932,78.282,77.383,77.914]
  y2 = [78.412,77.968,78.815,79.136,78.447,79.623,80.017,80.114,80.523,80.584,80.193]
  y3 = [80.904,81.037,80.53,81.312,81.371,81.249,81.493,81.495,81.529,81.216,81.402]
elif dataset == "citeseer":
  y1 = [56.177,56.8615,56.772,57.4395,58.6,59.5085,60.7195,60.745,60.2345,59.818,59.8935]
  y2 = [66.2875,65.42,65.8135,65.726,66.3235,65.294,65.597,65.635,66.237,65.5925,65.6495]
  y3 = [68.816,68.9735,68.7135,68.912,69.11,68.7465,68.759,68.543,68.7585,68.866,68.696]
elif dataset == "amaphoto":
  y1 = [90.84978038,91.23960469,91.42818448,91.35783309,91.2670571,91.16281113,90.89787701,90.94816984,90.96713031,90.49311859,90.94282577]
  y2 = [92.35183016,92.40607613,92.33653001,92.28052709,92.34802343,92.15768668,92.12576867,92.03001464,92.1,92.18316252,91.64472914]
  y3 = [92.63901903,92.63008785,92.52071742,92.61215227,92.5795022,92.5625183,92.54590044,92.5125183,92.5158858,92.49011713,92.44787701]
elif dataset == "amacomp":
  y1 = [82.15464519,83.63756614,84.12857921,84.02104731,83.89258481,83.7473934,83.01062092,83.11173358,83.12854031,82.13853875,83.31170246]
  y2 = [85.13188609,85.23902894,85.15005447,85.1975568,85.14989885,85.01855742,84.81524276,84.4440165,84.72272798,84.11111111,84.97502334]
  y3 = [85.76812947,85.38542639,85.72521786,85.41495487,85.59060847,85.45681606,85.48346561,85.17911609,85.37667289,85.34905073,85.37815126]

x = [0, 1, 2, 4, 8, 16, 32, 64, 128, 256, 512]

fig = plt.figure(figsize=(8, 6))
plt.scatter(x, y1)
plt.scatter(x, y2)
plt.scatter(x, y3)
plt.plot(x, y1, label="missing rate = 0.8")
plt.plot(x, y2, label="missing rate = 0.5")
plt.plot(x, y3, label="missing rate = 0.2")
plt.grid()


plt.semilogx(base=2)
plt.xlabel("the number of recursion", fontsize=20)
plt.ylabel("Accuracy", fontsize=20)
plt.title(dataset, fontsize=25)
plt.legend()
if dataset == "cora":
  plt.ylim([65,85])
elif dataset == "citeseer":
  plt.ylim([50,70])
elif dataset == "amaphoto":
  plt.ylim([75,95])
elif dataset == "amacomp":
  plt.ylim([70,90])
#plt.show()
plt.savefig("results/" + dataset + ".pdf")